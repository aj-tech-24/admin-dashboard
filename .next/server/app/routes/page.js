(()=>{var e={};e.id=316,e.ids=[316],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},421:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(7148),r(9116),r(5866);var s=r(3191),a=r(8716),n=r(7922),o=r.n(n),i=r(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["routes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7148)),"D:\\React Native\\admin-dashboard\\app\\routes\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9116)),"D:\\React Native\\admin-dashboard\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["D:\\React Native\\admin-dashboard\\app\\routes\\page.tsx"],u="/routes/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/routes/page",pathname:"/routes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2623:(e,t,r)=>{Promise.resolve().then(r.bind(r,426))},426:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var s=r(326),a=r(5353),n=r(7577);let o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"}}]},name:"environment",theme:"outlined"};var i=r(4082),l=n.forwardRef(function(e,t){return n.createElement(i.Z,(0,a.Z)({},e,{ref:t,icon:o}))}),d=r(490),c=r(9651),u=r(2380),x=r(9636),p=r(9270),h=r(6709),m=r(2170),g=r(3204),f=r(8506),y=r(7214),j=r(1063),Z=r(4139),v=r(8106),P=r(784),_=r(1135),w=r(3155),R=r(5047),b=r(2972),q=r(1973);let{Title:C,Text:A}=x.default,{TextArea:k}=p.default;function S(){let{user:e,loading:t,isAdmin:r}=(0,q.a)(),a=(0,R.useRouter)(),[o,i]=(0,n.useState)([]),[x,S]=(0,n.useState)(!0),[E,z]=(0,n.useState)(!1),[M,D]=(0,n.useState)(null),[N]=h.Z.useForm(),F=async()=>{try{S(!0);let{data:e,error:t}=await (0,b._c)();t?(console.error("Error loading routes:",t),m.ZP.error("Failed to load routes"),i([])):i(e||[])}catch(e){console.error("Error loading routes:",e),m.ZP.error("Failed to load routes"),i([])}finally{S(!1)}},I=async e=>{try{if(M){let{error:t}=await (0,b.fq)(M.id,e);if(t)throw t;m.ZP.success("Route updated successfully")}else{let{error:t}=await (0,b.ot)(e);if(t)throw t;m.ZP.success("Route created successfully")}z(!1),D(null),N.resetFields(),F()}catch(e){console.error("Error saving route:",e),m.ZP.error("Failed to save route")}},T=e=>{D(e),N.setFieldsValue({name:e.name,start_address:e.start_address,end_address:e.end_address}),z(!0)},$=async e=>{try{let{error:t}=await (0,b.qW)(e);if(t)throw t;m.ZP.success("Route deleted successfully"),F()}catch(e){console.error("Error deleting route:",e),m.ZP.error("Failed to delete route")}},L=e=>new Date(e).toLocaleString(),B=[{title:"Route Name",dataIndex:"name",key:"name",render:e=>s.jsx(A,{strong:!0,style:{color:"#1890ff"},children:e})},{title:"Start Address",dataIndex:"start_address",key:"start_address",render:e=>(0,s.jsxs)("div",{children:[s.jsx(l,{style:{color:"#52c41a",marginRight:"8px"}}),s.jsx(A,{children:e})]})},{title:"End Address",dataIndex:"end_address",key:"end_address",render:e=>(0,s.jsxs)("div",{children:[s.jsx(l,{style:{color:"#ff4d4f",marginRight:"8px"}}),s.jsx(A,{children:e})]})},{title:"Created",dataIndex:"created_at",key:"created_at",render:e=>L(e)},{title:"Actions",key:"actions",render:e=>(0,s.jsxs)(g.Z,{children:[s.jsx(f.ZP,{type:"link",onClick:()=>T(e),children:"Edit"}),s.jsx(f.ZP,{type:"link",danger:!0,onClick:()=>{y.Z.confirm({title:"Delete Route",content:`Are you sure you want to delete the route "${e.name}"?`,onOk:()=>$(e.id)})},children:"Delete"})]})}];return t||x?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:s.jsx(j.Z,{size:"large"})}):(0,s.jsxs)("div",{className:"admin-layout",children:[(0,s.jsxs)("div",{className:"admin-header",children:[s.jsx("div",{className:"admin-logo",children:"Miniway Admin Dashboard"}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[s.jsx(f.ZP,{onClick:()=>a.push("/"),children:"Dashboard"}),s.jsx(f.ZP,{onClick:F,icon:s.jsx(d.Z,{}),children:"Refresh"})]})]}),(0,s.jsxs)("div",{className:"admin-content",children:[s.jsx(Z.Z,{gutter:[16,16],style:{marginBottom:"24px"},children:(0,s.jsxs)(v.Z,{span:24,children:[s.jsx(C,{level:2,children:"Route Management"}),s.jsx(A,{type:"secondary",children:"Manage transportation routes and their details"})]})}),(0,s.jsxs)(Z.Z,{gutter:[16,16],style:{marginBottom:"24px"},children:[s.jsx(v.Z,{xs:24,sm:12,md:6,children:s.jsx(P.Z,{children:s.jsx(_.Z,{title:"Total Routes",value:o.length,prefix:s.jsx(c.Z,{style:{color:"#1890ff"}}),valueStyle:{color:"#1890ff"}})})}),s.jsx(v.Z,{xs:24,sm:12,md:6,children:s.jsx(P.Z,{children:s.jsx(_.Z,{title:"Active Routes",value:o.length,prefix:s.jsx(c.Z,{style:{color:"#52c41a"}}),valueStyle:{color:"#52c41a"}})})})]}),s.jsx(P.Z,{title:"Transportation Routes",extra:s.jsx(f.ZP,{type:"primary",icon:s.jsx(u.Z,{}),onClick:()=>{D(null),N.resetFields(),z(!0)},children:"Add Route"}),children:s.jsx(w.Z,{columns:B,dataSource:o,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:(e,t)=>`${t[0]}-${t[1]} of ${e} routes`},scroll:{x:800}})}),s.jsx(y.Z,{title:M?"Edit Route":"Add New Route",open:E,onCancel:()=>{z(!1),D(null),N.resetFields()},footer:null,children:(0,s.jsxs)(h.Z,{form:N,layout:"vertical",onFinish:I,children:[s.jsx(h.Z.Item,{label:"Route Name",name:"name",rules:[{required:!0,message:"Please enter route name!"}],children:s.jsx(p.default,{placeholder:"e.g., Downtown to Airport"})}),s.jsx(h.Z.Item,{label:"Start Address",name:"start_address",rules:[{required:!0,message:"Please enter start address!"}],children:s.jsx(k,{rows:2,placeholder:"e.g., 123 Main Street, Downtown"})}),s.jsx(h.Z.Item,{label:"End Address",name:"end_address",rules:[{required:!0,message:"Please enter end address!"}],children:s.jsx(k,{rows:2,placeholder:"e.g., International Airport Terminal 1"})}),s.jsx(h.Z.Item,{children:(0,s.jsxs)(g.Z,{children:[s.jsx(f.ZP,{type:"primary",htmlType:"submit",children:M?"Update Route":"Create Route"}),s.jsx(f.ZP,{onClick:()=>{z(!1),D(null),N.resetFields()},children:"Cancel"})]})})]})})]})]})}},9651:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(5353),a=r(7577);let n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm198.4-588.1a32 32 0 00-24.5.5L414.9 415 296.4 686c-3.6 8.2-3.6 17.5 0 25.7 3.4 7.8 9.7 13.9 17.7 17 3.8 1.5 7.7 2.2 11.7 2.2 4.4 0 8.7-.9 12.8-2.7l271-118.6 118.5-271a32.06 32.06 0 00-17.7-42.7zM576.8 534.4l26.2 26.2-42.4 42.4-26.2-26.2L380 644.4 447.5 490 422 464.4l42.4-42.4 25.5 25.5L644.4 380l-67.6 154.4zM464.4 422L422 464.4l25.5 25.6 86.9 86.8 26.2 26.2 42.4-42.4-26.2-26.2-86.8-86.9z"}}]},name:"compass",theme:"outlined"};var o=r(4082);let i=a.forwardRef(function(e,t){return a.createElement(o.Z,(0,s.Z)({},e,{ref:t,icon:n}))})},7148:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>i});var s=r(8570);let a=(0,s.createProxy)(String.raw`D:\React Native\admin-dashboard\app\routes\page.tsx`),{__esModule:n,$$typeof:o}=a;a.default;let i=(0,s.createProxy)(String.raw`D:\React Native\admin-dashboard\app\routes\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[206,399,454,371,817,214,699],()=>r(421));module.exports=s})();